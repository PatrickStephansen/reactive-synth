!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./assets/audio-worklet-processors",a(a.s=2)}([function(e,t,a){"use strict";function r(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function n(e){return function t(a){return 0===arguments.length||r(a)?t:e.apply(this,arguments)}}function s(e){return function t(a,s){switch(arguments.length){case 0:return t;case 1:return r(a)?t:n(function(t){return e(a,t)});default:return r(a)&&r(s)?t:r(a)?n(function(t){return e(t,s)}):r(s)?n(function(t){return e(a,t)}):e(a,s)}}}function i(e){return function t(a,i,u){switch(arguments.length){case 0:return t;case 1:return r(a)?t:s(function(t,r){return e(a,t,r)});case 2:return r(a)&&r(i)?t:r(a)?s(function(t,a){return e(t,i,a)}):r(i)?s(function(t,r){return e(a,t,r)}):n(function(t){return e(a,i,t)});default:return r(a)&&r(i)&&r(u)?t:r(a)&&r(i)?s(function(t,a){return e(t,a,u)}):r(a)&&r(u)?s(function(t,a){return e(t,i,a)}):r(i)&&r(u)?s(function(t,r){return e(a,t,r)}):r(a)?n(function(t){return e(t,i,u)}):r(i)?n(function(t){return e(a,t,u)}):r(u)?n(function(t){return e(a,i,t)}):e(a,i,u)}}}var u=i(function(e,t,a){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return a<e?e:a>t?t:a});t.a=u},,function(e,t,a){a(3),a(6),a(4),e.exports=a(5)},function(e,t,a){"use strict";a.r(t);var r=a(0);const n=Object(r.a)(0,1),s=Object(r.a)(0,1e6),i=Object(r.a)(0,1),u=(e,t,a)=>{const r=Math.random()*(a-t)+t;return Math.random()>.5?e+r>1?e-r:e+r:e-r<-1?e+r:e-r};registerProcessor("noise",class extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"stepMax",defaultValue:1,minValue:0,maxValue:1,automationRate:"a-rate"},{name:"stepMin",defaultValue:0,minValue:0,maxValue:1,automationRate:"a-rate"},{name:"sampleHold",defaultValue:1,minValue:0,maxValue:1e6,automationRate:"a-rate"},{name:"nextValueTrigger",defaultValue:0,automationRate:"a-rate"}]}constructor(){super(),this.previousValue=.1,this.samplesHeld=0,this.isTriggerValueHigh=!1}process(e,t,a){let r=t[0],o=a.stepMin,l=o.length>1?e=>n(o[e]):()=>n(o[0]),c=a.stepMax,h=c.length>1?e=>n(c[e]):()=>n(c[0]),d=a.sampleHold,m=d.length>1?e=>s(d[e]):()=>s(d[0]),g=a.nextValueTrigger,f=g.length>1?e=>i(g[e]):()=>i(g[0]);for(let e=0;e<r[0].length;++e,++this.samplesHeld){this.samplesHeld<0&&(this.samplesHeld=0);const t=m(e);t>=1&&this.samplesHeld>=t&&(this.samplesHeld-=t,this.previousValue=u(this.previousValue,l(e),h(e))),!this.isTriggerValueHigh&&f(e)>0&&(this.previousValue=u(this.previousValue,l(e),h(e))),this.isTriggerValueHigh=f(e)>0;for(let t=0;t<r.length;++t)r[t][e]=this.previousValue}return!0}})},function(e,t){registerProcessor("inverse-gain",class extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"divisor",defaultValue:10,automationRate:"a-rate"},{name:"zeroDivisorFallback",defaultValue:0,automationRate:"a-rate"}]}process(e,t,a){let r=e[0],n=t[0],s=a.divisor,i=s.length>1?e=>s[e]:()=>s[0],u=a.zeroDivisorFallback.length>1?e=>a.zeroDivisorFallback[e]:()=>a.zeroDivisorFallback[0];for(let e=0;e<r.length;e++){const t=r[e],a=n[e];for(let e=0;e<t.length;e++){const r=t[e],n=i(e);a[e]=0===n?u(e):r/n}}return!0}})},function(e,t,a){"use strict";a.r(t);var r=a(0);const n=(e,t,a)=>n=>{const s=Object(r.a)(t,a);return e.length>1?s(e[n]):s(e[0])};function s(e,t,a,r,n){if(t>=r&&(t=r),n>=r)return a;if(n<=t)return e;return e+(n-t)*((a-e)/(r-t))}const i=(e,{attackTime:t,attackValue:a,holdTime:r,decayTime:n,sustainValue:i,releaseTime:u},o,l,c,h)=>{const d=1/e;let m,g,f=0,p=void 0,V=void 0;return"rest"===l&&(c<=0?(m="rest",g=o+d,V=0):d<t?(m="attack",f=(g=d)/t,V=s(0,0,a,t,g)):d-t<r?(m="hold",f=(g=d-t)/r,V=a):d-t-r<n?(m="decay",f=(g=d-t-r)/n,V=s(a,0,i,n,g)):(m="sustain",g=d-t-r-n,V=i)),"attack"===l&&(c<=0?d<u?(m="release",f=(g=d)/u,p=o<t?s(0,0,a,t,o):o-t<r?a:o-t-r<n?s(a,0,i,n,o-t-r):i,V=s(p,0,0,u,g)):(m="rest",g=d-u,V=0):o+d<t?(m="attack",f=(g=o+d)/t,p=h,V=s(h||0,0,a,t,g)):o+d-t<r?(m="hold",f=(g=o+d-t)/r,V=a):o+d-t-r<n?(m="decay",f=(g=o+d-t-r)/n,V=s(a,0,i,n,g)):(m="sustain",g=o+d-t-r-n,V=i)),"hold"===l&&(c<=0?d<u?(m="release",f=(g=d)/u,p=o<r?a:o-r<n?s(a,0,i,n,o-r):i,V=s(p,0,0,u,g)):(m="rest",g=d-u,V=0):o+d<r?(m="hold",f=(g=o+d)/r,V=a):o+d-r<n?(m="decay",f=(g=o+d-r)/n,V=s(a,0,i,n,g)):(m="sustain",g=o+d-r-n,V=i)),"decay"===l&&(c<=0?d<u?(m="release",f=(g=d)/u,p=o<n?s(a,0,i,n,o):i,V=s(p,0,0,u,g)):(m="rest",g=d-u,V=0):o+d<n?(m="decay",f=(g=o+d)/n,V=s(a,0,i,n,g)):(m="sustain",g=o+d-n,V=i)),"sustain"===l&&(c<=0?d<u?(m="release",f=(g=d)/u,V=s(p=i,0,0,u,g)):(m="rest",g=d-u,V=0):(m="sustain",g=o+d,V=i)),"release"===l&&(c<=0?o+d<u?(m="release",f=(g=o+d)/u,V=s(p=h,0,0,u,g)):(m="rest",g=o+d-u,V=0):d<t?(m="attack",f=(g=d)/t,p=s(h,0,0,u,o),V=s(p,0,a,t,g)):d-t<r?(m="hold",f=(g=d-t)/r,V=a):d-t-r<n?(m="decay",f=(g=d-t-r)/n,V=s(a,0,i,n,g)):(m="sustain",g=d-t-r-n,V=i)),{stage:m,stageProgress:f,secondsSinceStateTransition:g,valueOnTriggerChange:p,outputValue:V}};registerProcessor("envelope-generator",class extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"trigger",defaultValue:0,automationRate:"a-rate"},{name:"attackValue",defaultValue:1,minValue:0,maxValue:1,automationRate:"a-rate"},{name:"attackTime",defaultValue:.001,minValue:0,maxValue:10,automationRate:"a-rate"},{name:"holdTime",minValue:0,defaultValue:.0625,maxValue:10,automationRate:"a-rate"},{name:"decayTime",defaultValue:.125,minValue:0,maxValue:10,automationRate:"a-rate"},{name:"sustainValue",defaultValue:.25,minValue:0,maxValue:1,automationRate:"a-rate"},{name:"releaseTime",defaultValue:.25,minValue:0,maxValue:10}]}constructor(e){super(e),this.stages=["rest","attack","hold","decay","sustain","release"],this.stage=this.stages[0],this.stageProgress=0,this.secondsSinceStateTransition=0,this.port.onmessage=this.handleMessage.bind(this),this.state={attackTime:.001,attackValue:1,holdTime:.0625,decayTime:.125,sustainValue:.25,releaseTime:.25},this.sampleRate=e.sampleRate||44100,this.outputValue,this.valueOnTriggerChange=void 0}handleMessage(e){e.data&&"getState"===e.data.type&&this.port.postMessage({type:"state",state:{stage:this.stage,stageProgress:this.stageProgress,outputValue:this.outputValue}})}process(e,t,a){let r=t[0];const s=n(a.trigger,-1e9,1e9),u=n(a.attackTime,0,10),o=n(a.attackValue,0,1),l=n(a.holdTime,0,10),c=n(a.decayTime,0,10),h=n(a.sustainValue,0,1),d=n(a.releaseTime,0,10);for(let e=0;e<r[0].length;e++){this.state={attackTime:u(e),attackValue:o(e),holdTime:l(e),decayTime:c(e),sustainValue:h(e),releaseTime:d(e)};const t=s(e),a=i(this.sampleRate,this.state,this.secondsSinceStateTransition,this.stage,t,this.valueOnTriggerChange);this.stage=a.stage,this.stageProgress=a.stageProgress,this.secondsSinceStateTransition=a.secondsSinceStateTransition,this.outputValue=a.outputValue,this.valueOnTriggerChange=a.valueOnTriggerChange;for(let t=0;t<r.length;t++){r[t][e]=this.outputValue}}return!0}})},function(e,t,a){"use strict";function r(e,t,a){t>32&&(t=32),t<1&&(t=1),"trve"===a&&(t=Math.floor(t));let r=2**t;"quantize-evenly"===a&&(r=Math.floor(r));const n=2/r,s=1-n;return e>=s?s:e<=-1?-1:Math.floor((1+e)/n)*n-1}a.r(t),registerProcessor("bit-crusher-fixed-point",class extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bitDepth",defaultValue:8,minValue:1,maxValue:32,automationRate:"a-rate"}]}constructor(){super(),this.fractionalBitDepthMode="quantize-evenly",this.port.onmessage=this.handleMessage.bind(this)}handleMessage(e){e.data&&"change-fractional-bit-depth-mode"===e.data.type&&(this.fractionalBitDepthMode=e.data.newMode)}process(e,t,a){let n=e[0],s=t[0],i=a.bitDepth,u=i.length>1?e=>i[e]:()=>i[0];for(let e=0;e<n.length;e++){const t=n[e],a=s[e];for(let e=0;e<t.length;e++){const n=t[e];a[e]=r(n,u(e),this.fractionalBitDepthMode)}}return!0}})}]);